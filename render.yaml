# render.yaml
# Render Blueprint for SIFT Detector API

services:
  - type: web
    name: sift-detector-api
    env: python
    # Defines the command to run the production server (Gunicorn)
    # The $PORT environment variable handles the binding.
    startCommand: gunicorn --bind 0.0.0.0:$PORT app:app --workers 1
    plan: standard # Recommended: Use 'standard' or higher for CV workloads
    buildCommand: "pip install -r requirements.txt"
    # Port configuration is now handled exclusively by the startCommand above.
    
    # Add a health check path for monitoring
    healthCheckPath: /
    # Auto-deploy when changes are pushed to your Git repository
    autoDeploy: true

# NOTE: The 'standard' plan offers more CPU/RAM, which is crucial 
# for OpenCV/SIFT processing. The 'starter' plan may time out.


This version of `render.yaml` should be accepted by the Render blueprint system without any field errors. Good luck with your deployment!
